---
title: "君は「マシンイプシロン」を知っているか"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Python","float","浮動小数点"]
published: false
---

# はじめに
皆さんは「マシンイプシロン」または「計算機イプシロン」を知ってますか？
先日書いたコードで概念を知り、とても勉強になったので記事にまとめてみました。

# 対象読者
* マシンイプシロンを知らない・聞いたことがない人
* 浮動小数点型について学習したい人

# マシンイプシロンの定義
まずはマシンイプシロンの定義です。安定のWikipedia参照で紹介します。
>計算機イプシロン（けいさんきイプシロン、英: machine epsilon）は、浮動小数点数において、「1より大きい最小の数」と1との差のことである。機械イプシロン（きかいイプシロン）とも言う。

https://ja.wikipedia.org/wiki/%E8%A8%88%E7%AE%97%E6%A9%9F%E3%82%A4%E3%83%97%E3%82%B7%E3%83%AD%E3%83%B3


# 案　pythonで扱える最小の数
最小の数って知ってる？
pythonにおける「ごくわずかな数値の変化」ってなにかわかる？

# 案　なんの役に立つのか？
では「1より大きい最小の数」はなんの役に立つのでしょうか？
定義をみただけではよくわかりませんね。。

よくあるのは浮動小数点型の一致判定や、変化の有無判定に使われます。

具体的には、
・
・

# Pythonにおけるマシンイプシロン
Pythonではマシンイプシロンが標準ライブラリ`sys`から参照可能です。
```python
>>> import sys 
>>> sys.float_info.epsilon  
2.220446049250313e-16
```
標準ライブラリsysから出力可能
多倍長浮動小数点型
64bitで浮動少数点を表すと、仮数部Xbit,指数部Xbit

# Pythonでマシンイプシロンを求めてみる
```
```

# 注意点
学習にあたって情報収集していたところ、マシンイプシロンの概念を間違えている記事を多く見かけました。
>計算機イプシロンは「最小の（正の）浮動小数点数」ではありません。

>計算機イプシロンは，しばしば「浮動小数点で表せる0より大きい最小の数」と誤解されます。
>もしこのような定義だと，指数部分を小さくすることで仮数部分の精度に関係なく小さな値を表現できてしまうことになります。

# 参考記事
深く学習したい方に、下記の記事をオススメします。ぜひご一読ください。
https://zenn.dev/mod_poppo/articles/floating-point-relative-error
